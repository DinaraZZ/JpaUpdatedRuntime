JDBC

Создание - Java, Maven
Голубая папка - для исходного кода
Ресурсы - файлы для конечной сборки, кроме джава кода

maven - отдельная консольная прог, предоставл функции по автоматизации процесса сборки/деплоя и управления
зависимости для проектов в среде jdk. Полностью берет ответст за компиляцию исх кода и его упаковку вместе с
ресурсами в испол файл/библиотеку (jar, war) java\web-archive. Предоставляет единый инструмент управления сборкой
независящий от среды разра-и (сборку/запуск и деплой на сервер можно произвести вообще без среды разработки).
управляет зависмостями проекта. это внешние библиотеки.
Центральный репозиторий - https://mvnrepository.com перечень доступных зависимостей. Можно подкл по названию.
Встроенные команды (жизненные циклы) каждая из которых состоит из неско фаз, фазой наз отдельно взятое
действие выполняемо в проц раб жизн цикла.
наиб част исп:
1) clean - удаление предыдущих результатов сборки
2) install - сборка проекта в процессе которой запускаются тесты, по мере необх
подтяг зависимости и производится упак в итоговый архив (jar, war).
3) package - упаковка

В станд библиотеке jdk есть модуль jdbc, позвол работ с рсубд. требует драйвер.
java appl - sql- jdbc - driver

ctrl+shift+o - синхронизация зависимостей после добавления библиотеки в <dependencies>

-----------------------------------------------

JPA - persistence api.
orm (object relational mapping) - объектно реляционное сопоставление.
реляционные данные (табличные) <-> объект яп
спец классы - модели (сущности)

jpa - стандарт, описывающий методы и принцип их работы, но не представляет реализации.
чтобы пользоваться стандартами, нужно исп-ть одну из его реализаций:
1) hibernate
2) eclipseLink
etc.
реализацию подк через зависимости (мавен). hibernate-core

в стандарте jpa для конфигурации параметров подключения и до параметров файл - "persistance.xml".
обз включен в итоговую сборку в папке "META-INF"

File - ProjectStructure - Facets - + (jpa, jpa configuration description, persistence.xml)
Переместить папку в ресурсес

каждый объект entityManager облад своим локальным кэшем в котором сохр сущности с котор он взаимод.
если сущ в энтити, это не дает гарантий, что она есть в базе данных.
для синхронизации локальных изменений объекта энтити и бд необходимо проводить все измменение в контекст транзакций.
тра = группа запросов отправляемая на выполн к серверу по принципу все или ничего. либо будут выполнены все запросы,
либо ни один.

Query и TypeQuery - объекты для выполнения запросов на языке jpql.
jpql - вариация языка sql определенную в стандарте jpa для напис запросов, не завис от базы данн в кот они будут
отправлены (одинак для любой бд). jpql работает с сущностями (не табл). в результате только одно значение, от которого
будет тип результата.
jpql -> orm -> postgresql dialect -> postgresql

sql -> select * from category
jpql -> select c from Category(class) c (обязательно аллиас) -> Category.class

sql -> select * from products where price between ? and ?
jpql -> select p from Product(class) p where p.price(поле) between ? and ? -> Product.class

sql -> update products set price = price *1.1 where category_id = ?
jpql -> update Product p(obyaz) set p.price = p.price * 1.1 where p.category.id = ?

query - запросы на изменение (update, delete) (insert - persist)
typedQuery<T> - запросы на выборку данных (select)